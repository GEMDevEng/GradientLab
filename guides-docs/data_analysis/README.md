# Data Analysis Guide for GradientLab

This guide provides instructions for analyzing the data collected from your Gradient Sentry Nodes to gain insights and optimize performance.

## Data Collection Overview

GradientLab collects the following types of data:

1. **Node Status Data** - Uptime, connectivity, and resource usage
2. **POC Tap Data** - Success rate and timing of POC taps
3. **Reward Data** - POA, POC, and referral rewards
4. **Performance Metrics** - Various metrics related to node performance

This data is stored in:
- `nodes.json` - Current node status and history
- `rewards.db` - SQLite database with detailed reward data

## Analysis Tools

GradientLab provides the following tools for data analysis:

### 1. Data Analysis Script

The `analyze_data.py` script generates reports and visualizations:

```bash
python backend/scripts/analyze_data.py --nodes-file nodes.json --db-file rewards.db --output-dir reports
```

This script produces:
- Node performance reports
- Overall performance reports
- Reward trend visualizations
- Optimization recommendations

### 2. Custom Analysis

For custom analysis, you can directly query the rewards database:

```bash
sqlite3 rewards.db
```

Example queries:

```sql
-- Get total rewards by node
SELECT node_id, SUM(total_points) as total_rewards
FROM rewards
GROUP BY node_id
ORDER BY total_rewards DESC;

-- Get daily rewards
SELECT date, SUM(total_points) as daily_rewards
FROM rewards
GROUP BY date
ORDER BY date DESC;

-- Get rewards by type
SELECT 
    SUM(poa_points) as poa_rewards,
    SUM(poc_points) as poc_rewards,
    SUM(referral_points) as referral_rewards
FROM rewards;
```

### 3. Visualization Tools

The reports directory contains visualizations generated by the analysis script:

- `daily_rewards.png` - Daily reward trends
- `reward_types.png` - Breakdown of reward types
- `cumulative_rewards.png` - Cumulative rewards over time
- `node_X_daily_rewards.png` - Daily rewards for each node

## Key Metrics to Track

Focus on these key metrics when analyzing your data:

### 1. Reward Metrics

- **Total Rewards** - Overall rewards earned
- **Daily Average** - Average rewards per day
- **Reward Types** - Breakdown of POA, POC, and referral rewards
- **Reward Trends** - How rewards change over time

### 2. Performance Metrics

- **Uptime** - Percentage of time nodes are online
- **POC Success Rate** - Percentage of successful POC taps
- **Resource Usage** - CPU, memory, and disk usage
- **Response Time** - How quickly nodes respond to requests

### 3. Comparative Metrics

- **Provider Comparison** - Performance across different cloud providers
- **Region Comparison** - Performance across different regions
- **VM Type Comparison** - Performance across different VM types
- **Cost Efficiency** - Rewards earned per dollar spent

## Analysis Techniques

Apply these techniques to gain deeper insights:

### 1. Trend Analysis

Identify patterns in your reward data:

- **Daily Patterns** - Do rewards vary by day of the week?
- **Time Patterns** - Are there specific times when rewards are higher?
- **Long-term Trends** - Are rewards increasing or decreasing over time?

### 2. Correlation Analysis

Look for correlations between different metrics:

- **Uptime vs. Rewards** - How does uptime affect rewards?
- **POC Success vs. Rewards** - How do successful POC taps affect rewards?
- **Resource Usage vs. Performance** - How do resource constraints affect performance?

### 3. Comparative Analysis

Compare performance across different dimensions:

- **Node Comparison** - Which nodes perform best and why?
- **Provider Comparison** - Which cloud providers yield the best results?
- **Configuration Comparison** - Which settings produce optimal performance?

## Optimization Insights

Use your analysis to derive these optimization insights:

### 1. Optimal VM Configuration

Determine the best VM configuration:

- **VM Size** - What is the optimal VM size for cost-efficiency?
- **OS Type** - Which operating system performs best?
- **Resource Allocation** - How should resources be allocated?

### 2. Optimal POC Strategy

Develop an effective POC tap strategy:

- **Timing** - When should POC taps be performed?
- **Frequency** - How often should POC taps be executed?
- **Distribution** - How should taps be distributed across nodes?

### 3. IP Optimization

Optimize your IP strategy:

- **IP Rotation** - How often should IPs be rotated?
- **Provider Distribution** - How should nodes be distributed across providers?
- **Region Selection** - Which regions perform best?

## Reporting

Generate regular reports to track performance:

### 1. Daily Reports

Daily reports provide a snapshot of performance:

- **Daily Rewards** - Rewards earned in the last 24 hours
- **Node Status** - Current status of all nodes
- **Issues** - Any issues that need attention

### 2. Weekly Reports

Weekly reports show medium-term trends:

- **Weekly Rewards** - Total and average rewards for the week
- **Performance Trends** - How metrics changed during the week
- **Optimization Opportunities** - Areas for improvement

### 3. Monthly Reports

Monthly reports offer a broader perspective:

- **Monthly Rewards** - Total and average rewards for the month
- **Cost Analysis** - Rewards earned vs. costs incurred
- **Strategic Recommendations** - Long-term optimization strategies

## Next Steps

After analyzing your data:

1. [Implement optimization strategies](../optimization/README.md)
2. [Scale your Sentry Node operation](../scaling/README.md)
3. [Explore advanced techniques](../advanced_techniques/README.md)
